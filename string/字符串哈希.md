![image-20250714101203383](C:\Users\LENOVO\AppData\Roaming\Typora\typora-user-images\image-20250714101203383.png)

## 预处理

```c++
const int p=31/131/....
ull po[N+1],po1[N+1]

int n=s.size();

string s=" "+s;

po[0]=1

for(int i=1;i<=n;i++)po[i]=po[i-1]*p;
for(int i=1;i<=n;i++)po1[i]=po1[i-1]*p+s[i]-'a'+1;
//计算一个区间l到r的值
po1[r]-po1[l-1]*po[r-l+1]
```

