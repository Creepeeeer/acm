# 博弈

## 1.公平组合游戏（ICG）

### ICG: 

1，两个玩家轮流且游戏方式一致

2，两人的选择都是最优

3，游戏一定会在有限局内结束（以玩家无法行动结束）

### 1.bash game

一共n颗石子，两人轮流拿，每次可以拿1~m颗，拿到最后一颗的获胜

结论：n!=(m+1)的倍数先手赢 反之后手

如果n==(m+1)倍数 先手无论拿多少后手可以再将石头堆拿至(m+1)倍数

### 2.nim game

一共n堆石头，两人轮流进行

玩家需要选择一个非空石头堆，从该石头堆移除任意整数石头

谁先拿走最后石头就赢

结论：若所有石头数量异或和不等于0 先手赢  反之后手

若只有两堆石头 有相同数量，后手总可以模仿先手做镜像动作则后手必赢

### 3.SG函数和SG定理

SG函数求解过程：

最终必败点是A，规定SG（A）=0
假设状态点是B，那么SG（B）= 查看B所有后继节点的sg值，其中没有出现过的最小自然数
SG（B）！= 0，那么状态B为必胜态；SG（B）== 0，那么状态B为必败态

SG定理（Bouton定理）

如果一个ICG游戏（总），由若干个独立的ICG子游戏构成（分1、分2、分3..），那么：
SG（总）= SG（分1）^ SG（分2）^SG（分3）任何ICG游戏都是如此，正确性证明类似尼姆博弈

当数据规模较大时，要善于通过对数器的手段，打印SG表并观察，看看能不能发现简洁规律



神仙例题

[P2148 [SDOI2009\] E&D - 洛谷](https://www.luogu.com.cn/problem/P2148)

打表后发现规律：

```c++
sg[i][j]=(i-1)|(j-1)里出现0的最小位置
```

